(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[31],{1565:function(e,t,o){(e.exports=o(9)(!1)).push([e.i,'[class*="gui_tabs_"] {\n  /* overridden by other addons */\n  --sa-category-width: 60px;\n  --sa-flyout-width: 250px;\n}\n\n/* The default left-side border does not work properly when a block is being dragged, */\n/* which lets a 1 pixel column of the flyout be visible. */\n/* To fix this we use two elements that are only visible when a block is being dragged. */\n/* The first element is opaque to cover up the contents with the background color. */\n/* The other element is the transparent border color. */\n.sa-flyout-border-1,\n.sa-flyout-border-2 {\n  position: absolute;\n  /* Above flyout but below add extension button */\n  z-index: 40;\n  top: 0;\n  bottom: 8px;\n  left: -1px;\n}\n[dir="rtl"] .sa-flyout-border-1,\n[dir="rtl"] .sa-flyout-border-2 {\n  left: auto;\n  right: -1px;\n}\n.sa-flyout-border-1 {\n  border-left: 1px solid var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n.sa-flyout-border-2 {\n  border-left: 1px solid var(--ui-black-transparent, rgba(0, 0, 0, 0.15));\n}\n\n.blocklyFlyout,\n.blocklyFlyoutScrollbar {\n  transition-property: margin;\n}\n\n[dir="ltr"] .blocklyFlyout.sa-flyoutClose,\n[dir="ltr"] .blocklyFlyoutScrollbar.sa-flyoutClose {\n  margin-left: calc(0px - var(--sa-flyout-width) - 10px);\n}\n\n[dir="rtl"] .blocklyFlyout.sa-flyoutClose,\n[dir="rtl"] .blocklyFlyoutScrollbar.sa-flyoutClose {\n  margin-left: calc(var(--sa-flyout-width) + 10px);\n}\n\n.sa-flyout-placeHolder {\n  display: var(--hideFlyout-placeholderDisplay) !important;\n  position: absolute;\n  height: 100%;\n  width: calc(var(--sa-flyout-width) + 1px);\n  top: 0;\n}\n\n[dir="ltr"] .sa-flyout-placeHolder {\n  left: calc(var(--sa-category-width) + 1px);\n}\n\n[dir="rtl"] .sa-flyout-placeHolder {\n  right: calc(var(--sa-category-width) + 1px);\n}\n\n.sa-lock-object {\n  display: var(--hideFlyout-lockDisplay) !important;\n  transform: translate(calc(var(--sa-flyout-width) - 15px - 32px), 3px);\n  width: 32px;\n  height: 32px;\n}\n[dir="rtl"] .sa-lock-object {\n  transform: translate(15px, 3px);\n}\n\n.sa-lock-button {\n  display: flex;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--ui-primary, white);\n  border: 1px solid var(--ui-black-transparent, rgba(0, 0, 0, 0.15));\n  border-radius: 4px;\n}\n\n.sa-lock-object.locked .sa-lock-button {\n  background-color: #ff4c4c;\n  border-color: #cc4c4c;\n}\n\n.sa-lock-button img {\n  width: 20px;\n}\n\n[theme="dark"] .sa-lock-button img {\n  filter: brightness(200%);\n}\n\n.sa-hide-flyout-not-fullscreen [class*="gui_body-wrapper_" ] [class*="gui_stage-and-target-wrapper"] {\n  position: relative;\n  /* We need to be above these to hide the flyout while dragging blocks: */\n  /* .blocklyFlyout (z-index: 20) */\n  /* .blocklyFlyoutScrollbar (z-index: 30) */\n  /* and above these so that dragged sprites aren\'t obscured: */\n  /* .blocklyToolboxDiv (z-index: 40) */\n  /* .gui_extension-button-container_b4rCs (z-index: 42) */\n  z-index: 43;\n  padding-inline: 0.5rem;\n  background-color: var(--ui-primary, hsl(215, 100%, 95%));\n}\n\n[class*="gui_stage-and-target-wrapper_"] {\n  padding: 0;\n}\n\n/* https://github.com/ScratchAddons/ScratchAddons/issues/4896 */\n.Popover {\n  /* Above stage wrapper and target pane */\n  /* See editor-stage-left */\n  z-index: 51;\n}\n',""])},1634:function(e,t,o){"use strict";function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(t),o.d(t,"resources",(function(){return s}));var a=o(1565);const s={"userscript.js":async function(e){let{addon:t,console:o,msg:n}=e,r=null,a=null,s=null,c=null,i=null,d=null,u=!1,g=!1,y=!1,b=!0;const p=await t.tab.traps.getBlockly();function M(){return{none:"0",short:"0.2",default:"0.3",long:"0.5"}[t.settings.get("speed")]}function f(){return t.settings.get("toggle")}function h(e){for(let t of[i,d])t.style.transitionDuration="".concat(e,"s")}function m(){for(let e of[i,d])e.style.removeProperty("transition-duration")}function v(){a.classList.toggle("locked",g),s.title=n(g?"unlock":"lock"),c.src=t.self.getResource("/".concat(g?"":"un","lock.svg"))}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&0!==e.buttons&&!document.querySelector(".blocklyToolboxDiv").className.includes("blocklyToolboxDelete")||(t="object"==typeof t?M():t,h(t),i.classList.remove("sa-flyoutClose"),d.classList.remove("sa-flyoutClose"),setTimeout(()=>{p.getMainWorkspace().recordCachedAreas(),m()},1e3*t)),y=!1}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M();g||(e&&e.buttons?y=!0:(h(t),i.classList.add("sa-flyoutClose"),d.classList.add("sa-flyoutClose"),setTimeout(()=>{p.getMainWorkspace().recordCachedAreas(),m()},1e3*t)))}const x=()=>{const e=t.tab.redux.state.scratchGui.mode.isFullScreen;document.documentElement.classList.toggle("sa-hide-flyout-not-fullscreen",!e)};x();let w=!1;function D(){if(w)return;w=!0,t.tab.redux.initialize(),t.tab.redux.addEventListener("statechanged",e=>{switch(e.detail.action.type){case"scratch-gui/navigation/ACTIVATE_TAB":{const o=f();0!==e.detail.action.activeTabIndex||t.self.disabled||"hover"!==o&&"cathover"!==o||(I(null,0),u=!1);break}case"scratch-gui/mode/SET_FULL_SCREEN":x()}}),document.body.addEventListener("mouseup",()=>{y&&(I(),y=!1)}),t.self.enabledLate&&"category"===f()&&p.getMainWorkspace().getToolbox().selectedItem_.setSelected(!1),t.self.addEventListener("disabled",()=>{p.getMainWorkspace().getToolbox().selectedItem_.setSelected(!0),p.svgResize(p.getMainWorkspace())}),t.self.addEventListener("reenabled",()=>{"category"===f()&&(p.getMainWorkspace().getToolbox().selectedItem_.setSelected(!1),I(null,0),u=!1),p.svgResize(p.getMainWorkspace())}),t.settings.addEventListener("change",()=>{t.self.disabled||("category"===f()?g?(u=!0,g=!1,v()):(p.getMainWorkspace().getToolbox().selectedItem_.setSelected(!1),I(null,0),u=!1):(I(),p.getMainWorkspace().getToolbox().selectedItem_.setSelected(!0)),p.svgResize(p.getMainWorkspace()))});const e=p.Toolbox.prototype.setSelectedItem;p.Toolbox.prototype.setSelectedItem=function(o){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const l=this.selectedItem_;e.call(this,o,n),t.self.disabled||"category"!==f()||(n?o===l?(u=!u,u?A():(I(),o.setSelected(!1))):u||(b=!1,u=!0,A()):o.setSelected(!1))};const o=p.Toolbox.prototype.selectCategoryById;p.Toolbox.prototype.selectCategoryById=function(){if(t.self.disabled||"category"!==f()||u){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return o.call(this,...n)}};const n=p.Flyout.prototype.stepScrollAnimation;p.Flyout.prototype.stepScrollAnimation=function(){if(!b)return this.scrollbar_.set(this.scrollTarget),this.scrollTarget=null,void(b=!0);for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(this,t)};const r=p.WorkspaceSvg.getTopLevelWorkspaceMetrics_;p.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var e,o;const n=r.call(this);return t.self.disabled||"hover"===f()||this.RTL||310===(null===(e=this.getToolbox())||void 0===e||null===(o=e.flyout_)||void 0===o?void 0:o.getWidth())?n:l(l({},n),{},{absoluteLeft:n.absoluteLeft-250,viewWidth:n.viewWidth+250})},p.getMainWorkspace()&&(p.getMainWorkspace().getMetrics=p.WorkspaceSvg.getTopLevelWorkspaceMetrics_)}for(;;){i=await t.tab.waitForElement(".blocklyFlyout",{markAsSeen:!0,reduxEvents:["scratch-gui/mode/SET_PLAYER","scratch-gui/locales/SELECT_LOCALE","fontsLoaded/SET_FONTS_LOADED"],reduxCondition:e=>!e.scratchGui.mode.isPlayerOnly}),d=document.querySelector(".blocklyFlyoutScrollbar");const e=document.querySelector('[class*="gui_blocks-wrapper_"]'),o=document.querySelector(".injectionDiv"),n=document.createElement("div");n.className="sa-flyout-border-1",t.tab.displayNoneWhileDisabled(n),o.appendChild(n);const l=document.createElement("div");l.className="sa-flyout-border-2",t.tab.displayNoneWhileDisabled(l),o.appendChild(l),r&&r.remove(),r=document.createElement("div"),e.appendChild(r),r.className="sa-flyout-placeHolder",r.style.display="none",a&&a.remove(),a=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),a.setAttribute("class","sa-lock-object"),a.style.display="none",s=document.createElement("button"),s.className="sa-lock-button",c=document.createElement("img"),c.alt="",v(),s.onclick=()=>{g=!g,v()},s.appendChild(c),a.appendChild(s),i.appendChild(a),I(null,0),u=!1;const y=document.querySelector(".blocklyToolboxDiv"),b=document.querySelector("[class^=gui_extension-button-container_]");for(let e of[y,b,i,d])e.onmouseenter=e=>{const o=f();t.self.disabled||"hover"!==o&&"cathover"!==o||A(e)},e.onmouseleave=e=>{const o=f();t.self.disabled||"hover"!==o&&"cathover"!==o||I(e)};r.onmouseenter=e=>{t.self.disabled||"hover"!==f()||A(e)},r.onmouseleave=e=>{t.self.disabled||"hover"!==f()||I(e)},D(),"hover"!==f()&&p.svgResize(p.getMainWorkspace())}},"style.css":o.n(a).a,"lock.svg":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgc3R5bGU9Ii1tcy10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMiAxM2ExIDEgMCAwIDAtMSAxdjNhMSAxIDAgMCAwIDIgMHYtM2ExIDEgMCAwIDAtMS0xem01LTRWN0E1IDUgMCAwIDAgNyA3djJhMyAzIDAgMCAwLTMgM3Y3YTMgMyAwIDAgMCAzIDNoMTBhMyAzIDAgMCAwIDMtM3YtN2EzIDMgMCAwIDAtMy0zek05IDdhMyAzIDAgMCAxIDYgMHYySDl6bTkgMTJhMSAxIDAgMCAxLTEgMUg3YTEgMSAwIDAgMS0xLTF2LTdhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==","unlock.svg":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgc3R5bGU9Ii1tcy10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMiAxM2ExLjQ5IDEuNDkgMCAwIDAtMSAyLjYxVjE3YTEgMSAwIDAgMCAyIDB2LTEuMzlBMS40OSAxLjQ5IDAgMCAwIDEyIDEzem01LTRIOVY3YTMgMyAwIDAgMSA1LjEyLTIuMTMgMy4wOCAzLjA4IDAgMCAxIC43OCAxLjM4IDEgMSAwIDEgMCAxLjk0LS41IDUuMDkgNS4wOSAwIDAgMC0xLjMxLTIuMjlBNSA1IDAgMCAwIDcgN3YyYTMgMyAwIDAgMC0zIDN2N2EzIDMgMCAwIDAgMyAzaDEwYTMgMyAwIDAgMCAzLTN2LTdhMyAzIDAgMCAwLTMtM3ptMSAxMGExIDEgMCAwIDEtMSAxSDdhMSAxIDAgMCAxLTEtMXYtN2ExIDEgMCAwIDEgMS0xaDEwYTEgMSAwIDAgMSAxIDF6IiBmaWxsPSIjNTc1ZTc1Ii8+PC9zdmc+"}}}]);